
<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>IBAN DOƒûRULAMA</title>

<style>
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; margin:0; }

/* Tema ve ortak deƒüi≈ükenler */
:root{
  --bg:#eef2f7;
  --card-bg:rgba(255,255,255,.72);
  --text:#111;
  --border:rgba(0,0,0,.15);

  --logo-color: var(--text);     /* IBAN yazƒ±sƒ± rengi */
  --logo-sub:#006CFF;            /* DOƒûRULAMA (logo alt metni) */

  --success:#7CCF90;
  --error:rgba(255,0,0,.26);

  --button:linear-gradient(135deg,#006CFF,#004CFF);
  --button-hover:linear-gradient(135deg,#0052e6,#003cd9);

  /* K√∂≈üe yerle≈üimleri tek noktadan kontrol */
  --pad-x: 10px;  /* logo soldan bo≈üluƒüu */
  --pad-y: 10px;  /* logo √ºstten bo≈üluƒüu */

  /* ƒ∞stenen deƒüi≈üiklik: tarih/g√ºn + ET√úRK + mail renkleri */
  --corner-text-color: var(--text);  /* g√ºnd√ºz: siyah */
}

body.dark{
  --bg:#07090d;
  --card-bg:rgba(30,30,30,.78);
  --text:#fff;
  --border:rgba(255,255,255,.2);

  --logo-color: var(--text);
  --logo-sub:#66B3FF;            /* Dark mode i√ßin logo alt metni */

  --success:#3CCF73;
  --error:rgba(255,70,70,.38);

  --button:linear-gradient(135deg,#00aaff,#0077ff);
  --button-hover:linear-gradient(135deg,#0088dd,#005fcc);

  /* Gece: beyaz */
  --corner-text-color: var(--text);
}

body{
  font-family:"Segoe UI", Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  transition:.3s;
}

/* ---------------------------------------------- */
/* LOGO SOL √úST */
#logoBox{
  position:fixed;
  top:var(--pad-y);
  left:var(--pad-x);
  z-index:999;
  cursor:pointer;
  transition:.25s ease;
}
#logoBox:hover{
  transform:scale(1.05);
  filter: drop-shadow(0px 0px 6px rgba(0,0,0,0.25));
}
.logo-main{ fill:var(--logo-color); }
.logo-sub { fill:var(--logo-sub); }

/* ---------------------------------------------- */
/* TARƒ∞H SAƒû √úST */
#tarihBox{
  position:fixed;
  top:var(--pad-y);
  right:var(--pad-x);
  text-align:right;
  font-weight:700;
  color:var(--corner-text-color); /* G√ºnd√ºz siyah, gece beyaz */
}
#bugunTarih{
  display:block;
  font-size:15px;
}
#bugunGun{
  display:block;
  font-size:12px;
  opacity:.85;
  margin-top:2px;
}

/* ---------------------------------------------- */
/* CARD */
.kutu{
  width:min(650px,92vw);
  background:var(--card-bg);
  border:1px solid var(--border);
  border-radius:18px;
  padding:28px;
  backdrop-filter:blur(18px);
}

/* ---------------------------------------------- */
/* Switch Bar */
.top-bar{
  display:flex; justify-content:flex-end;
  gap:30px; margin-bottom:12px;
}

.switch-col{ display:flex; flex-direction:column; align-items:center; }
.switch-label{
  margin-top:4px;
  font-size:10px;
  opacity:.75;
  font-weight:600;
}

/* Switch animasyonlarƒ± */
.switch{ position:relative; width:42px; height:22px; }
.switch input{ display:none; }
.slider{
  position:absolute; inset:0;
  background:#bbb;
  border-radius:30px;
  cursor:pointer;
  transition: background .25s ease;
}
.slider:before{
  content:""; position:absolute;
  width:18px; height:18px; left:2px; top:2px;
  background:#fff; border-radius:50%;
  transition: transform .25s cubic-bezier(.4,0,.2,1);
}
input:checked + .slider{ background:#4cd964; }
input:checked + .slider:before{ transform:translateX(20px); }
.switch:hover .slider:before{ transform:scale(1.15); }

/* ---------------------------------------------- */
/* Input alanƒ± */
.input-wrap{ position:relative; width:100%; }
input#iban{
  width:100%; height:48px;
  padding:0 56px 0 16px;
  border:1px solid var(--border);
  border-radius:12px;
  background:rgba(255,255,255,.55);
  font-size:17px;
}
body.dark input#iban{
  background:rgba(60,60,60,.45);
  color:#fff;
}

.paste-btn{
  position:absolute; right:8px; top:50%;
  transform:translateY(-50%);
  font-size:22px;
  cursor:pointer;
}

/* ---------------------------------------------- */
/* DOƒûRULA BUTTON */
button.action{
  width:100%; height:54px; margin-top:20px;
  border:none; border-radius:14px;
  background:var(--button);
  color:#fff;
  font-size:19px; font-weight:600;
  transition:.25s ease;
}
button.action:hover{
  background:var(--button-hover);
  transform:scale(1.03);
  box-shadow:0 4px 12px rgba(0,0,0,.18);
}

/* ---------------------------------------------- */
/* SONU√á */
.sonuc{
  display:none;
  margin-top:20px;
  padding:16px 18px;
  border-radius:12px;
  font-size:20px; font-weight:600; color:#fff;
}
.ok { background:var(--success); }
.err{ background:var(--error); }

.result-flex{
  display:flex; justify-content:space-between;
  align-items:center; gap:12px;
}

@keyframes snakeShake{
  0%,100%{transform:translateX(0)}
  10%{transform:translateX(-18px)}
  20%{transform:translateX(18px)}
  30%{transform:translateX(-15px)}
  40%{transform:translateX(15px)}
  50%{transform:translateX(-10px)}
  60%{transform:translateX(10px)}
  70%{transform:translateX(-6px)}
  80%{transform:translateX(6px)}
  90%{transform:translateX(-3px)}
}
.snake{ animation: snakeShake .65s ease; }

/* ---------------------------------------------- */
/* FOOTER SAƒû ALT */
#altFooter{
  position:fixed;
  bottom:var(--pad-y);
  right:var(--pad-x);
  text-align:right;
  font-weight:700;
  line-height:1.2;
}
#footerEturk{
  font-size:15px;
  color:var(--corner-text-color);   /* G√ºnd√ºz siyah, gece beyaz */
}
#footerMail{
  font-size:12px;
  color:var(--corner-text-color);   /* G√ºnd√ºz siyah, gece beyaz */
}

/* K√º√ß√ºk ekranlar i√ßin ufak dokunu≈ü (opsiyonel) */
@media (max-width: 420px){
  #logoBox svg{ width:180px; height:auto; }
}
</style>
</head>
<body>

<!-- LOGO -->
<div id="logoBox" title="Tema deƒüi≈ütir (tƒ±kla)">
<svg width="220" height="45" viewBox="0 0 320 80" aria-hidden="true">
  <circle cx="40" cy="40" r="26" class="logo-sub"></circle>
  <path d="M30 40l8 8 16-20"
        stroke="white" stroke-width="6"
        fill="none" stroke-linecap="round" stroke-linejoin="round"></path>

  <text x="90" y="38" font-size="32" font-weight="700"
        font-family="Segoe UI" class="logo-main">IBAN</text>

  <text x="90" y="65" font-size="22" font-weight="700"
        font-family="Segoe UI" class="logo-sub">DOƒûRULAMA</text>
</svg>
</div>

<!-- TARƒ∞H -->
<div id="tarihBox" aria-live="polite">
  <span id="bugunTarih"></span>
  <span id="bugunGun"></span>
</div>

<!-- KART -->
<div class="kutu" id="kart">

  <div class="top-bar">

    <div class="switch-col">
      <label class="switch" title="G√ºnd√ºz/Gece">
        <input type="checkbox" id="themeToggle">
        <span class="slider"></span>
      </label>
      <span class="switch-label">G√ºnd√ºz/Gece</span>
    </div>

    <div class="switch-col">
      <label class="switch" title="Ses A√ß/Kapat">
        <input type="checkbox" id="soundToggle">
        <span class="slider"></span>
      </label>
      <span class="switch-label">Ses A√ß/Kapat</span>
    </div>

  </div>

  <div class="input-wrap">
    <input id="iban" placeholder="TR11 1111 1111 1111 1111 1111 11" autocomplete="off" inputmode="latin-prose" />
    <span class="paste-btn" aria-label="Panodan yapƒ±≈ütƒ±r" role="button" onclick="pasteIBAN()">üìã</span>
  </div>

  <button class="action" onclick="ibanKontrol()">DOƒûRULA ‚Ä£</button>

  <div id="sonuc" class="sonuc" role="status" aria-live="polite"></div>

</div>

<!-- FOOTER SAƒû ALT -->
<div id="altFooter">
  <div id="footerEturk">üñåÔ∏è ET√úRK</div>
  <div id="footerMail">‚úâÔ∏è e.turk@palen.com.tr</div>
</div>

<script>
/* Tarih + G√ºn */
function tarihVeGunYaz(){
  const d = new Date();
  const gunler = ["Pazar","Pazartesi","Salƒ±","√áar≈üamba","Per≈üembe","Cuma","Cumartesi"];
  document.getElementById("bugunTarih").textContent =
    `${String(d.getDate()).padStart(2,'0')}.${String(d.getMonth()+1).padStart(2,'0')}.${d.getFullYear()}`;
  document.getElementById("bugunGun").textContent = gunler[d.getDay()];
}
tarihVeGunYaz();
setInterval(tarihVeGunYaz, 60*60*1000);

/* Logo tƒ±klanƒ±nca da tema deƒüi≈üsin (kolay eri≈üim) */
document.getElementById('logoBox').addEventListener('click', () => {
  const toggler = document.getElementById('themeToggle');
  toggler.checked = !toggler.checked;
  document.body.classList.toggle("dark", toggler.checked);
});

/* Tema switch */
const themeToggle = document.getElementById('themeToggle');
themeToggle.addEventListener("change", e =>
  document.body.classList.toggle("dark", e.target.checked)
);

/* Ses */
let soundOn=false;
const soundToggle = document.getElementById('soundToggle');
soundToggle.checked=false;
soundToggle.addEventListener("change", e=> soundOn=e.target.checked);

/* IBAN input filtre */
const iban = document.getElementById('iban');
iban.addEventListener("input", e=>{
  const raw=e.target.value.toUpperCase().replace(/[^0-9A-Z]/g,"");
  let out="";
  for(let i=0;i<raw.length;i++){
    if(i>0 && i%4===0) out+=" ";
    out+=raw[i];
  }
  e.target.value=out;
});

/* Paste ‚Üí auto kontrol */
async function pasteIBAN(){
  try{
    let txt=await navigator.clipboard.readText();
    txt=txt.replace(/\s+/g,"").toUpperCase().replace(/[^0-9A-Z]/g,"");
    iban.value=txt;
    iban.dispatchEvent(new Event("input"));
    setTimeout(()=>ibanKontrol(),120);
  }catch(err){
    // izin yoksa sessiz ge√ß
  }
}

/* Bankalar */
const bankalar={
"001":"Merkez Bankasƒ±","010":"Ziraat Bankasƒ±","012":"Halkbank","015":"Vakƒ±fbank",
"014":"TSKB","016":"Eximbank","017":"T√ºrkiye Kalkƒ±nma Bankasƒ±","029":"Birle≈üik Fon Bankasƒ±",
"032":"TEB","034":"Aktif Yatƒ±rƒ±m Bankasƒ±","046":"Akbank","048":"HSBC",
"058":"Sƒ±nai Yatƒ±rƒ±m Bankasƒ±","059":"≈ûekerbank","062":"Garanti BBVA","064":"ƒ∞≈ü Bankasƒ±",
"067":"Yapƒ± Kredi","134":"Denizbank A.≈û.","091":"Arap T√ºrk Bankasƒ±","092":"Citibank",
"099":"ING","103":"Fiba Bank","106":"Portigon AG","107":"BNP-Ak-Dresdner",
"108":"Turkland Bank","109":"Tekstil Bankasƒ±","111":"Finansbank","115":"Deutsche Bank",
"125":"Burganbank","133":"ING Bank","135":"Anadolubank","157":"EnPara",
"203":"Albaraka T√ºrk","205":"Kuveyt T√ºrk","206":"T√ºrkiye Finans","208":"Asya Katƒ±lƒ±m",
"210":"Vakƒ±f Katƒ±lƒ±m","223":"Albaraka T√ºrk Katƒ±lƒ±m"
};

/* MOD97 */
function mod97(iban){
  const r=iban.slice(4)+iban.slice(0,4);
  const c=r.replace(/[A-Z]/g,ch=>ch.charCodeAt(0)-55);
  let m=0;
  for(let i=0;i<c.length;i++) m=(m*10+Number(c[i]))%97;
  return m===1;
}

/* IBAN Kontrol */
function ibanKontrol(){
  const v=iban.value.replace(/\s+/g,"");
  const s=document.getElementById("sonuc");

  if(!v.startsWith("TR")||v.length!==26)
    return hata("IBAN GE√áERSƒ∞Z!");
  if(!mod97(v))
    return hata("IBAN GE√áERSƒ∞Z!");

  const kod=v.slice(6,9);

  s.className="sonuc ok";
  s.style.display="block";

  s.innerHTML = bankalar[kod]
    ? `<div class='result-flex'><div>‚úî IBAN GE√áERLƒ∞</div><div>${bankalar[kod]}</div></div>`
    : "‚úî IBAN GE√áERLƒ∞";
}

/* Hata */
function hata(msg){
  const s=document.getElementById("sonuc");
  s.className="sonuc err";
  s.style.display="block";
  s.textContent=msg;
}
</script>

</body>
</html>
